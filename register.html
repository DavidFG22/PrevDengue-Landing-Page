<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Crear Cuenta - PrevDengue</title>

    <link rel="stylesheet" href="register-style.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito+Sans:opsz,wght@6..12,300;400;600;700&family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body>
    <div class="register-wrapper">
      <div class="register-card">
        <div class="card-header-nav">
          <a href="index.html" class="back-link">
            <i class="fa-solid fa-arrow-left"></i> Volver al inicio
          </a>
          <span class="step-indicator">Paso 1 de 1</span>
        </div>

        <div class="register-header">
          <img
            src="Imagenes/logo sin fondo.png"
            alt="Logo PrevDengue"
            class="register-logo-img"
          />

          <h2>Únete a la comunidad</h2>
          <p>
            Crea tu cuenta para reportar focos y recibir alertas en tu zona.
          </p>
        </div>

        <form class="register-form">
          <div class="input-group">
            <label for="fullname">Nombre completo</label>
            <div class="input-wrapper">
              <i class="fa-regular fa-user input-icon"></i>
              <input
                type="text"
                id="fullname"
                placeholder="Juan Pérez"
                required
              />
            </div>
          </div>

          <div class="form-grid">
            <div class="input-group">
              <label for="district">Distrito de residencia</label>
              <div class="input-wrapper">
                <i class="fa-solid fa-map-location-dot input-icon"></i>
                <select id="district" required>
                  <option value="" disabled selected>Selecciona...</option>
                  <option value="comas">Comas</option>
                  <option value="sjl">San Juan de Lurigancho</option>
                  <option value="vmt">Villa María del Triunfo</option>
                  <option value="lima">Cercado de Lima</option>
                  <option value="otros">Otro</option>
                </select>
                <i class="fa-solid fa-chevron-down select-arrow"></i>
              </div>
            </div>

            <div class="input-group">
              <label for="phone">Celular</label>
              <div class="input-wrapper">
                <i class="fa-solid fa-mobile-screen input-icon"></i>
                <input
                  type="tel"
                  id="phone"
                  placeholder="999 999 999"
                  required
                />
              </div>
            </div>
          </div>

          <div class="input-group">
            <label for="email">Correo electrónico</label>
            <div class="input-wrapper">
              <i class="fa-regular fa-envelope input-icon"></i>
              <input
                type="email"
                id="email"
                placeholder="ejemplo@correo.com"
                required
              />
            </div>
          </div>

          <div class="input-group">
            <label for="password">Contraseña</label>
            <div class="input-wrapper">
              <i class="fa-solid fa-lock input-icon"></i>
              <input
                type="password"
                id="password"
                placeholder="Mínimo 8 caracteres"
                required
              />
              <i class="fa-regular fa-eye toggle-password"></i>
            </div>
          </div>

          <div class="form-options">
            <label class="checkbox-container">
              <input type="checkbox" required />
              <span class="checkmark"></span>
              <p>
                Acepto los
                <a href="#" class="link-terms">Términos y Condiciones</a> y la
                Política de Privacidad.
              </p>
            </label>
          </div>

          <button type="submit" class="btn-submit">Crear Cuenta</button>
        </form>

        <div class="register-footer">
          <p>
            ¿Ya tienes una cuenta? <a href="login.html">Inicia sesión aquí</a>
          </p>
        </div>
      </div>
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const registerForm = document.querySelector(".register-form");
        const passwordInput = document.getElementById("password");
        const togglePasswordIcon = document.querySelector(".toggle-password");
        const termsCheckbox = document.querySelector(
          ".checkbox-container input[type='checkbox']"
        );

        // 1. Mostrar/Ocultar contraseña
        togglePasswordIcon.addEventListener("click", () => {
          const type =
            passwordInput.getAttribute("type") === "password"
              ? "text"
              : "password";
          passwordInput.setAttribute("type", type);

          togglePasswordIcon.classList.toggle("fa-eye");
          togglePasswordIcon.classList.toggle("fa-eye-slash");
        });

        // 2. Validación y Redirección al enviar
        registerForm.addEventListener("submit", (e) => {
          e.preventDefault(); // Evita recarga

          // Validar contraseña mínima
          if (passwordInput.value.length < 8) {
            alert("La contraseña debe tener al menos 8 caracteres.");
            passwordInput.style.borderColor = "#EF4444";
            passwordInput.focus();
            return;
          } else {
            passwordInput.style.borderColor = "#E2E8F0";
          }

          // Validar términos (aunque el atributo 'required' ya ayuda, esto es doble seguridad)
          if (!termsCheckbox.checked) {
            alert("Debes aceptar los Términos y Condiciones.");
            return;
          }

          // SI TODO ESTÁ BIEN -> REDIRIGIR A DASHBOARD
          // Simulamos que el registro fue exitoso y el usuario ya está logueado
          alert("¡Cuenta creada con éxito! Bienvenido a la comunidad.");
          window.location.href = "dashboard.html";
        });

        // Limpiar error al escribir
        passwordInput.addEventListener(
          "input",
          () => (passwordInput.style.borderColor = "#E2E8F0")
        );
      });
    </script>
  </body>
</html>
